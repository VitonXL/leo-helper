<!-- Контейнер для уведомлений -->
<div id="toast-container" style="
  position: fixed;
  top: 20px;
  right: 20px;
  z-index: 3000;
  display: flex;
  flex-direction: column;
  gap: 8px;
  max-width: 300px;
">
  <!-- Toast будет добавляться сюда динамически -->
</div>

<!-- Стили для Toast -->
<style>
  .toast {
    display: flex;
    align-items: center;
    gap: 12px;
    padding: 12px 16px;
    background: var(--bg);
    color: var(--text);
    border-radius: var(--radius-sm);
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.12);
    border: 1px solid var(--border);
    font-size: 14px;
    animation: slide-in 0.3s ease-out;
    min-width: 200px;
  }

  .toast.success {
    border-left: 4px solid #4CAF50;
    background: #f8fff8;
    color: #2E7D32;
  }

  .toast.error {
    border-left: 4px solid #F44336;
    background: #fff8f8;
    color: #C62828;
  }

  .toast.warning {
    border-left: 4px solid #FF9800;
    background: #fff9f0;
    color: #E65100;
  }

  .toast.info {
    border-left: 4px solid #2196F3;
    background: #f0f8ff;
    color: #1565C0;
  }

  .toast .icon {
    font-size: 18px;
    min-width: 20px;
  }

  .toast .message {
    flex: 1;
  }

  .toast .close {
    font-size: 14px;
    color: #999;
    cursor: pointer;
    opacity: 0.7;
    transition: opacity 0.2s;
  }

  .toast .close:hover {
    opacity: 1;
  }

  @keyframes slide-in {
    from {
      transform: translateX(100%);
      opacity: 0;
    }
    to {
      transform: translateX(0);
      opacity: 1;
    }
  }

  @keyframes fade-out {
    from {
      opacity: 1;
    }
    to {
      opacity: 0;
    }
  }
</style>

<!-- Скрипт Toast -->
<script>
  class Toast {
    static container = document.getElementById('toast-container');

    static show(message, type = 'info', duration = 3000) {
      if (!this.container) return;

      const toast = document.createElement('div');
      toast.className = `toast ${type}`;
      toast.innerHTML = `
        <div class="icon">
          ${type === 'success' ? '✅' : 
            type === 'error' ? '❌' : 
            type === 'warning' ? '⚠️' : 'ℹ️'}
        </div>
        <div class="message">${this.escape(message)}</div>
        <div class="close" onclick="this.parentElement.remove()">✕</div>
      `;

      this.container.appendChild(toast);

      // Автоудаление
      const remove = () => {
        toast.style.animation = 'fade-out 0.3s forwards';
        setTimeout(() => toast.remove(), 300);
      };

      setTimeout(remove, duration);

      // Можно закрыть по клику
      toast.addEventListener('click', (e) => {
        if (!e.target.classList.contains('close')) {
          remove();
        }
      });
    }

    static success(message, duration = 3000) {
      this.show(message, 'success', duration);
    }

    static error(message, duration = 4000) {
      this.show(message, 'error', duration);
    }

    static warning(message, duration = 3500) {
      this.show(message, 'warning', duration);
    }

    static info(message, duration = 3000) {
      this.show(message, 'info', duration);
    }

    static escape(str) {
      const div = document.createElement('div');
      div.textContent = str;
      return div.innerHTML;
    }
  }

  // Глобальный доступ
  window.Toast = Toast;
</script>